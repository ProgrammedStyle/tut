(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1237:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(5155),o=n(6877),u=n.n(o),l=n(2115);let i=(0,l.createContext)(null);function a(){let e=(0,l.use)(i);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var c=n(5752),s=n.n(c);let f=(0,l.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:r,className:o,id:u,placeholder:a,style:s,whenReady:f,zoom:d,...p},g){let[v]=(0,l.useState)({className:o,id:u,style:s}),[b,m]=(0,l.useState)(null),h=(0,l.useRef)(void 0);(0,l.useImperativeHandle)(g,()=>b?.map??null,[b]);let y=(0,l.useCallback)(r=>{if(null!==r&&!h.current){let o=new c.Map(r,p);h.current=o,null!=n&&null!=d?o.setView(n,d):null!=e&&o.fitBounds(e,t),null!=f&&o.whenReady(f),m(Object.freeze({__version:1,map:o}))}},[]);(0,l.useEffect)(()=>()=>{b?.map.remove()},[b]);let x=b?l.createElement(i,{value:b},r):a??null;return l.createElement("div",{...v,ref:y},x)});function d(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function p(e,t){return null==t?function(t,n){let r=(0,l.useRef)(void 0);return r.current||(r.current=e(t,n)),r}:function(n,r){let o=(0,l.useRef)(void 0);o.current||(o.current=e(n,r));let u=(0,l.useRef)(n),{instance:i}=o.current;return(0,l.useEffect)(function(){u.current!==n&&(t(i,n,u.current),u.current=n)},[i,n,t]),o}}function g(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function v(e){return function(t){var n;let r=a(),o=e(g(t,r),r);return!function(e,t){let n=(0,l.useRef)(t);(0,l.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}(r.map,t.attribution),!function(e,t){let n=(0,l.useRef)(void 0);(0,l.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}(o.current,t.eventHandlers),n=o.current,(0,l.useEffect)(function(){return(r.layerContainer??r.map).addLayer(n.instance),function(){r.layerContainer?.removeLayer(n.instance),r.map.removeLayer(n.instance)}},[r,n]),o}}n(7650);let b=function(e,t){var n;return n=v(p(e,t)),(0,l.forwardRef)(function(e,t){let{instance:r}=n(e).current;return(0,l.useImperativeHandle)(t,()=>r),null})}(function({url:e,...t},n){return d(new c.TileLayer(e,g(t,n)),n)},function(e,t,n){let{opacity:r,zIndex:o}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=o&&o!==n.zIndex&&e.setZIndex(o);let{url:u}=t;null!=u&&u!==n.url&&e.setUrl(u)}),m=function(e,t){var n;return n=v(p(e,t)),(0,l.forwardRef)(function(e,t){let{instance:r,context:o}=n(e).current;(0,l.useImperativeHandle)(t,()=>r);let{children:u}=e;return null==u?null:l.createElement(i,{value:o},u)})}(function({position:e,...t},n){var r;let o=new c.Marker(e,t);return d(o,(r={overlayContainer:o},Object.freeze({...n,...r})))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())});function h(e){let{position:t}=e,n=a().map;return(0,l.useEffect)(()=>{t&&n.setView(t,n.getZoom())},[t,n]),null}function y(e){let{initialPosition:t=[31.9522,35.2332],initialZoom:n=15}=e,[o,u]=(0,l.useState)(null);return(0,l.useEffect)(()=>{if(!navigator.geolocation)return alert("Geolocation API غير مدعوم");let e=navigator.geolocation.watchPosition(e=>{u([e.coords.latitude,e.coords.longitude])},e=>console.error("Geolocation error:",e),{enableHighAccuracy:!0,maximumAge:1e3,timeout:1e4});return()=>navigator.geolocation.clearWatch(e)},[]),(0,r.jsx)("div",{style:{height:"100vh",width:"100%"},children:(0,r.jsxs)(f,{center:o||t,zoom:n,style:{height:"100%",width:"100%"},children:[(0,r.jsx)(b,{attribution:'\xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o&&(0,r.jsx)(h,{position:o}),o&&(0,r.jsx)(m,{position:o,icon:s().divIcon({className:"user-marker",html:'<div style="\n      width: 18px; height: 18px;\n      background: #1976d2;\n      border: 3px solid white;\n      border-radius: 50%;\n      box-shadow: 0 0 6px rgba(25,118,210,0.6);\n    "></div>',iconSize:[24,24],iconAnchor:[12,12]})})]})})}n(4583);let x=()=>(0,r.jsx)("div",{className:u().bodyCont,children:(0,r.jsx)(y,{})})},4583:()=>{},6877:e=>{e.exports={body:"layoutIndex_body__7CtQn",html:"layoutIndex_html__1iLwd",bodyCont:"layoutIndex_bodyCont__VGDZS"}},9729:(e,t,n)=>{Promise.resolve().then(n.bind(n,1237))}},e=>{e.O(0,[462,407,761,441,964,358],()=>e(e.s=9729)),_N_E=e.O()}]);